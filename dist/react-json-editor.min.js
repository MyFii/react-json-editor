!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-json-editor"]=t(require("react")):e["react-json-editor"]=t(e.react)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";function r(e){var t,n,r={};for(t=0;t<e.length;++t)n=e[t],r[o(n.path)]=n.errors;return r}function o(e){return e.join("_")}function i(e){return e.context||e.schema}var a=n(2);a.createClass=n(3);var s=n(11),u=n(12),p=n(13),c=n(26),l=n(27);e.exports=a.createClass({displayName:"Form",getInitialState:function(){var e=this.props.values,t=this.validate(this.props.schema,e,i(this.props));return{values:e,output:e,errors:t}},componentWillReceiveProps:function(e){var t=e.values||this.state.values,n=e.values||this.state.output;this.setState({values:t,output:n,errors:this.validate(e.schema,n,i(e))})},setValue:function(e,t,n){var r=this.props.schema,o=i(this.props),a=c(u.setIn(this.state.values,e,t),r,o),s=c(u.setIn(this.state.output,e,n),r,o),p=this.validate(r,s,o);this.props.submitOnChange&&this.props.onSubmit(s,null,p),this.setState({values:a,output:s,errors:p})},getValue:function(e){return u.getIn(this.state.values,e)},getErrors:function(e){return this.state.errors[o(e)]},validate:function(e,t,n){var o=this.props.validate||l;return r(o(e,t,n))},preventSubmit:function(e){e.preventDefault()},handleSubmit:function(e){this.props.onSubmit(this.state.output,e.target.value,this.state.errors)},handleKeyPress:function(e){13===e.keyCode&&this.props.enterKeySubmits&&this.props.onSubmit(this.state.output,this.props.enterKeySubmits)},renderButtons:function(){var e=this.handleSubmit;if("function"==typeof this.props.buttons)return this.props.buttons(e);var t=(this.props.buttons||["Cancel","Submit"]).map(function(t){return s.input({type:"submit",key:t,value:t,onClick:e})});return s.p(null,t)},render:function(){var e=p.make(p,{schema:this.props.schema,context:i(this.props),fieldWrapper:this.props.fieldWrapper,sectionWrapper:this.props.sectionWrapper,handlers:this.props.handlers,hints:this.props.hints,path:[],update:this.setValue,getValue:this.getValue,getErrors:this.getErrors});return s.form({onSubmit:this.preventSubmit,onKeyPress:this.handleKeyPress,className:this.props.className},this.props.extraButtons?this.renderButtons():s.span(),e,this.renderButtons())}})},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(2),o=n(4);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},function(e,t,n){(function(t){"use strict";function r(e){return e}function o(e,n,o){function l(e,n,r){for(var o in n)n.hasOwnProperty(o)&&"production"!==t.env.NODE_ENV&&u("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",p[r],o)}function h(e,t){var n=x.hasOwnProperty(t)?x[t]:null;w.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function m(e,r){if(r){s("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!n(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=e.prototype,i=o.__reactAutoBindPairs;r.hasOwnProperty(c)&&D.mixins(e,r.mixins);for(var a in r)if(r.hasOwnProperty(a)&&a!==c){var p=r[a],l=o.hasOwnProperty(a);if(h(l,a),D.hasOwnProperty(a))D[a](e,p);else{var m=x.hasOwnProperty(a),f="function"==typeof p,d=f&&!m&&!l&&r.autobind!==!1;if(d)i.push(a,p),o[a]=p;else if(l){var g=x[a];s(m&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?o[a]=v(o[a],p):"DEFINE_MANY"===g&&(o[a]=y(o[a],p))}else o[a]=p,"production"!==t.env.NODE_ENV&&"function"==typeof p&&r.displayName&&(o[a].displayName=r.displayName+"_"+a)}}}else if("production"!==t.env.NODE_ENV){var b=typeof r,E="object"===b&&null!==r;"production"!==t.env.NODE_ENV&&u(E,"%s: You're attempting to include a mixin that is either null or not an object. Check the mixins included by the component, as well as any mixins they include themselves. Expected object but got %s.",e.displayName||"ReactClass",null===r?null:b)}}function f(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in D;s(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;if(i){var a=_.hasOwnProperty(n)?_[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=v(e[n],r))}e[n]=r}}}function d(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function v(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return d(o,n),d(o,r),o}}function y(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,n){var r=n.bind(e);if("production"!==t.env.NODE_ENV){r.__reactBoundContext=e,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var o=e.constructor.displayName,i=r.bind;r.bind=function(a){for(var s=arguments.length,p=Array(s>1?s-1:0),c=1;c<s;c++)p[c-1]=arguments[c];if(a!==e&&null!==a)"production"!==t.env.NODE_ENV&&u(!1,"bind(): React component methods may only be bound to the component instance. See %s",o);else if(!p.length)return"production"!==t.env.NODE_ENV&&u(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o),r;var l=i.apply(r,arguments);return l.__reactBoundContext=e,l.__reactBoundMethod=n,l.__reactBoundArguments=p,l}}return r}function b(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=g(e,o)}}function E(e){var n=r(function(e,r,i){"production"!==t.env.NODE_ENV&&u(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindPairs.length&&b(this),this.props=e,this.context=r,this.refs=a,this.updater=i||o,this.state=null;var p=this.getInitialState?this.getInitialState():null;"production"!==t.env.NODE_ENV&&void 0===p&&this.getInitialState._isMockFunction&&(p=null),s("object"==typeof p&&!Array.isArray(p),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"),this.state=p});n.prototype=new A,n.prototype.constructor=n,n.prototype.__reactAutoBindPairs=[],N.forEach(m.bind(null,n)),m(n,I),m(n,e),m(n,O),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==t.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),s(n.prototype.render,"createClass(...): Class specification must implement a `render` method."),"production"!==t.env.NODE_ENV&&(u(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),u(!n.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"),u(!n.prototype.UNSAFE_componentWillRecieveProps,"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",e.displayName||"A component"));for(var i in x)n.prototype[i]||(n.prototype[i]=null);return n}var N=[],x={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},D={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)m(e,t[n])},childContextTypes:function(e,n){"production"!==t.env.NODE_ENV&&l(e,n,"childContext"),e.childContextTypes=i({},e.childContextTypes,n)},contextTypes:function(e,n){"production"!==t.env.NODE_ENV&&l(e,n,"context"),e.contextTypes=i({},e.contextTypes,n)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=v(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,n){"production"!==t.env.NODE_ENV&&l(e,n,"prop"),e.propTypes=i({},e.propTypes,n)},statics:function(e,t){f(e,t)},autobind:function(){}},I={componentDidMount:function(){this.__isMounted=!0}},O={componentWillUnmount:function(){this.__isMounted=!1}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return"production"!==t.env.NODE_ENV&&(u(this.__didWarnIsMounted,"%s: isMounted is deprecated. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.",this.constructor&&this.constructor.displayName||this.name||"Component"),this.__didWarnIsMounted=!0),!!this.__isMounted}},A=function(){};return i(A.prototype,e.prototype,w),E}var i=n(6),a=n(7),s=n(8);if("production"!==t.env.NODE_ENV)var u=n(9);var p,c="mixins";p="production"!==t.env.NODE_ENV?{prop:"prop",context:"context",childContext:"child context"}:{},e.exports=o}).call(t,n(5))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){d&&m&&(d=!1,m.length?f=m.concat(f):v=-1,f.length&&s())}function s(){if(!d){var e=o(a);d=!0;for(var t=f.length;t;){for(m=f,f=[];++v<t;)m&&m[v].run();v=-1,t=f.length}m=null,d=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function p(){}var c,l,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var m,f=[],d=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new u(e,t)),1!==f.length||d||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),p=1;p<arguments.length;p++){r=Object(arguments[p]);for(var c in r)i.call(r,c)&&(u[c]=r[c]);if(o){s=o(r);for(var l=0;l<s.length;l++)a.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(5))},function(e,t,n){(function(t){"use strict";function n(e,t,n,o,i,a,s,u){if(r(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],l=0;p=new Error(t.replace(/%s/g,function(){return c[l++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(5))},function(e,t,n){(function(t){"use strict";var r=n(10),o=r;"production"!==t.env.NODE_ENV&&!function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}};o=function(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.apply(void 0,[n].concat(o))}}}(),e.exports=o}).call(t,n(5))},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";!function(t){e.exports=t(n(2))}(function(e){function t(t){var n=e.createElement.bind(null,t);return n.type=t,n}var n={a:t("a"),abbr:t("abbr"),address:t("address"),area:t("area"),article:t("article"),aside:t("aside"),audio:t("audio"),b:t("b"),base:t("base"),bdi:t("bdi"),bdo:t("bdo"),big:t("big"),blockquote:t("blockquote"),body:t("body"),br:t("br"),button:t("button"),canvas:t("canvas"),caption:t("caption"),cite:t("cite"),code:t("code"),col:t("col"),colgroup:t("colgroup"),data:t("data"),datalist:t("datalist"),dd:t("dd"),del:t("del"),details:t("details"),dfn:t("dfn"),dialog:t("dialog"),div:t("div"),dl:t("dl"),dt:t("dt"),em:t("em"),embed:t("embed"),fieldset:t("fieldset"),figcaption:t("figcaption"),figure:t("figure"),footer:t("footer"),form:t("form"),h1:t("h1"),h2:t("h2"),h3:t("h3"),h4:t("h4"),h5:t("h5"),h6:t("h6"),head:t("head"),header:t("header"),hgroup:t("hgroup"),hr:t("hr"),html:t("html"),i:t("i"),iframe:t("iframe"),img:t("img"),input:t("input"),ins:t("ins"),kbd:t("kbd"),keygen:t("keygen"),label:t("label"),legend:t("legend"),li:t("li"),link:t("link"),main:t("main"),map:t("map"),mark:t("mark"),menu:t("menu"),menuitem:t("menuitem"),meta:t("meta"),meter:t("meter"),nav:t("nav"),noscript:t("noscript"),object:t("object"),ol:t("ol"),optgroup:t("optgroup"),option:t("option"),output:t("output"),p:t("p"),param:t("param"),picture:t("picture"),pre:t("pre"),progress:t("progress"),q:t("q"),rp:t("rp"),rt:t("rt"),ruby:t("ruby"),s:t("s"),samp:t("samp"),script:t("script"),section:t("section"),select:t("select"),small:t("small"),source:t("source"),span:t("span"),strong:t("strong"),style:t("style"),sub:t("sub"),summary:t("summary"),sup:t("sup"),table:t("table"),tbody:t("tbody"),td:t("td"),textarea:t("textarea"),tfoot:t("tfoot"),th:t("th"),thead:t("thead"),time:t("time"),title:t("title"),tr:t("tr"),track:t("track"),u:t("u"),ul:t("ul"),var:t("var"),video:t("video"),wbr:t("wbr"),circle:t("circle"),clipPath:t("clipPath"),defs:t("defs"),ellipse:t("ellipse"),g:t("g"),image:t("image"),line:t("line"),linearGradient:t("linearGradient"),mask:t("mask"),path:t("path"),pattern:t("pattern"),polygon:t("polygon"),polyline:t("polyline"),radialGradient:t("radialGradient"),rect:t("rect"),stop:t("stop"),svg:t("svg"),text:t("text"),tspan:t("tspan")};return n})},function(e,t){"use strict";var n=function(e){return"number"==typeof e&&e>=0&&e%1==0},r=function(){var e,t=Array.prototype.slice.call(arguments),r=[];for(e=0;e+1<t.length;e+=2)n(t[e])||(r={});for(e=0;e+1<t.length;e+=2)r[t[e]]=t[e+1];return r},o=function(){var e,t,n,r=Array.prototype.slice.call(arguments),o=r.every(Array.isArray)?[]:{};for(e in r){t=r[e];for(n in t)o[n]=t[n]}return o},i=function(e,t){return 0==t.length||void 0==e?e:i(e[t[0]],t.slice(1))},a=function(e,t,n){if(0==t.length)return n;var i=null==e?null:e[t[0]],n=a(i||[],t.slice(1),n);return o(e,r(t[0],n))},s=function(e){var t=[].slice.call(arguments),n=Array.isArray(e)?[]:{};for(var r in e)t.indexOf(r)<0&&(n[r]=e[r]);return n},u=function(e){var t,n,r,o,i,a;if(null==e||""===e)t=null;else if(e.constructor===Array||e.constructor===Object){n=Array.isArray(e),t=n?[]:{};for(r in e)e.hasOwnProperty(r)&&(a=u(e[r]),o=a.value,i|=a.nullValues,null!==o?n?t.push(o):t[r]=o:i=!0);i||(t=e),0===Object.keys(t).length&&(t=null)}else t=e;return{value:t,nullValues:i}},p=function(e,t){var n={},r={};for(key in t){var o=t[key];e(key,o)?n[key]=o:r[key]=o}return[n,r]},c=function(e,t){var n,r={};for(n in t)r[n]=e(t[n]);return r},l=function(e,t){var n,r={};for(n in t)r[e(n)]=t[n];return r};e.exports={object:r,merge:o,without:s,getIn:i,setIn:a,prune:u,split:p,map:c,mapKeys:l}},function(e,t,n){"use strict";e.exports={CheckBox:n(14),FileField:n(15),InputField:n(20),UserDefinedField:n(23),Selection:n(24),make:n(25)}},function(e,t,n){"use strict";var r=n(2),o=r.DOM,i=r.createClass({displayName:"CheckBox",handleChange:function(e){var t=!!e.target.checked||null;this.props.update(this.props.path,t,t)},render:function(){return o.input({name:this.props.label,type:"checkbox",checked:this.props.value||!1,onChange:this.handleChange,disabled:this.props.disabled})}});e.exports=i},function(e,t,n){"use strict";var r=n(2),o=r.DOM,i=n(12),a=n(16),s=n(19),u=r.createClass({displayName:"FileField",loadFile:function(e){var t=new FileReader,n=e.target.files[0],r=i.merge(this.props.getValue(this.props.path),{name:n.name,type:n.type,size:n.size});this.props.update(this.props.path,r,r),t.onload=function(e){r.data=e.target.result,this.props.update(this.props.path,r,r)}.bind(this),n&&("dataURL"===this.props.mode?t.readAsDataURL(n):t.readAsText(n))},render:function(){var e=this.props.fields||{},t=this.props.value||{},n=[o.input({key:"input",type:"file",onChange:this.loadFile}),o.dl({key:"fileProperties"},o.dt(null,"Name"),o.dd(null,t.name||"-"),o.dt(null,"Size"),o.dd(null,t.size||"-"),o.dt(null,"Type"),o.dd(null,t.type||"-"))];return s.section(this.props,n.concat(a.object(e,this.props)))}});e.exports=u},function(e,t,n){"use strict";function r(e,t){var n,r,o=Object.keys(t||{}),i=[];for(n in e||[])r=e[n],o.indexOf(r)>=0&&i.push(r);for(n in o)r=o[n],i.indexOf(r)<0&&i.push(r);return i}var o=n(12),i=n(17),a={alternative:function(e,t){var n=i.schema(t.getValue(t.path),t.schema,t.context);return a.object(e,o.merge(t,{schema:n}))},array:function(e,t){return function(){for(var n=function(e,t,n){return function(o){if(r(t,n)||a(t,n)){var i=e.getValue(e.path),s=i.splice(o,1);i.splice(t,0,s[0]),e.update(e.path,i,i)}}},r=function(e,t){return e>0&&e<t-1},i=function(e,t,n){return function(){if(r(t,n)){var o=e.getValue(e.path),i=o.splice(t,1);o.splice(t-1,0,i[0]),e.update(e.path,o,o)}}},a=function(e,t){return t>1&&e<t-2},s=function(e,t,n){return function(){if(a(t,n)){var r=e.getValue(e.path),o=r.splice(t,1);r.splice(t+1,0,o[0]),e.update(e.path,r,r)}}},u=function(e,t){return e<t},p=function(e,t,n){return function(){if(u(t,n)){var r=e.getValue(e.path);r.splice(t,1),e.update(e.path,r,r)}}},c=(t.getValue(t.path)||[]).length+1,l=[],h=0;h<c;++h)l.push(e.make(e,o.merge(t,{schema:t.schema.items,path:t.path.concat(h),move:n(t,h,c),moveUp:i(t,h,c),moveDown:s(t,h,c),canMoveUp:r(h,c),canMoveDown:a(h,c),removeItem:p(t,h,c),canRemoveItem:u(h,c)})));return l}},object:function(e,t){return function(){var n=r(t.schema["x-ordering"],t.schema.properties);return n.map(function(n){return e.make(e,o.merge(t,{schema:t.schema.properties[n],path:t.path.concat(n)}))})}}};e.exports=a},function(e,t,n){"use strict";var r=n(12),o=n(18);t.schema=function(e,t,n){var i,a,s;if(i=r.getIn(t,["x-hints","form","selector"])){var u=t.oneOf.map(function(e){return o(e,n)});return a=u.map(function(e){return r.getIn(e,["properties",i,"enum",0])||""}),s=(e||{})[i]||a[0],r.merge(r.setIn(u[a.indexOf(s)],["properties",i],r.merge(r.getIn(t,["properties",i]),{enum:a})),{type:"object"})}}},function(e,t,n){"use strict";function r(e){var t=[].slice.call(arguments),n=Array.isArray(e)?[]:{};for(var r in e)t.indexOf(r)<0&&(n[r]=e[r]);return n}var o=n(12);e.exports=function(e,t){var n=e.$ref;if(n){if(!n.match(/^#(\/([a-zA-Z_][a-zA-Z_0-9]*|[0-9]+))*$/))throw new Error("reference "+n+" has unsupported format");return o.merge(o.getIn(t,n.split("/").slice(1)),r(e,"$ref"))}return e}},function(e,t,n){"use strict";var r=n(2),o=r.DOM,i=n(12),a=function(e){return e&&0!==e.length?"error":""},s=function(e,t){var n=[];return e&&e.length>0&&n.push(e),t&&t.length>0&&n.push(t.join("\n")),n.join("\n\n")},u=r.createClass({displayName:"FieldWrapper",shouldComponentUpdate:function(e){return this.props.value!==e.value},render:function(){var e=[].concat(a(this.props.errors)||[],"form-element",this.props.classes||[]);return o.div({className:e.join(" "),key:this.props.label,title:s(this.props.description,this.props.errors)},o.label({htmlFor:this.props.label},this.props.title),this.props.children)}}),p=r.createClass({displayName:"SectionWrapper",shouldComponentUpdate:function(e){return this.props.value!==e.value},render:function(){var e=this.props.path.length,t=[].concat("form-section",e>0?"form-subsection":[],this.props.classes||[]),n=[].concat(a(this.props.errors)||[],"form-section-title");return o.fieldset({className:t.join(" "),key:this.props.label},o.legend({className:n.join(" "),title:s(this.props.description,this.props.errors)},this.props.title),this.props.children)}}),c=function(e,t){var n={key:e.key,label:e.label,path:e.path,errors:e.errors,classes:i.getIn(e.schema,["x-hints","form","classes"]),title:e.schema.title,type:e.schema.type,description:e.schema.description,schema:e.schema,value:e.value};if(t&&e.isArrayItem){if(e.isArrayItem){var r=e.getValue(e.path),o=e.title;if(r){var a=i.getIn(e.schema,["x-hints","itemHeader","property"]),s=a&&r[a]||r.title||r.name;o=o&&s?o+" - "+s:s||o}n=i.merge(n,{title:o||n.title,move:e.move,moveUp:e.moveUp,moveDown:e.moveDown,canMoveUp:e.canMoveUp,canMoveDown:e.canMoveDown,removeItem:e.removeItem,canRemoveItem:e.canRemoveItem})}n=i.merge(n,{isArrayItem:e.isArrayItem})}return n};t.section=function(e,t){return r.isValidElement(e.sectionWrapper)?r.cloneElement(e.sectionWrapper,c(e,!0),t):r.createElement(e.sectionWrapper||p,c(e,!0),t)},t.field=function(e,t){return r.isValidElement(e.fieldWrapper)?r.cloneElement(e.fieldWrapper,c(e),t):r.createElement(e.fieldWrapper||u,c(e),t)}},function(e,t,n){"use strict";var r=n(2),o=r.DOM,i=n(21),a=n(22),s=r.createClass({displayName:"InputField",normalize:function(e){return i[this.props.type](e)},parse:function(e){return a[this.props.type](e)},handleChange:function(e){var t=this.normalize(e.target.value);this.props.update(this.props.path,t,this.parse(t))},handleKeyPress:function(e){13===e.keyCode&&e.preventDefault()},render:function(){return o.input({type:"text",disabled:this.props.disabled,hidden:this.props.hidden,name:this.props.label,value:this.props.value||"",onKeyPress:this.handleKeyPress,onChange:this.handleChange})}});e.exports=s},function(e,t){"use strict";t.string=function(e){return e.replace(/\s+/g," ").replace(/^ /,"").replace(/\u00ad/g,"")},t.integer=function(e){return e.replace(/[^-\d]/g,"").replace(/(.)-/g,"$1")},t.number=function(e){return e.replace(/[^-\.e\d]/gi,"").replace(/(e[^e]*)e/gi,"$1").replace(/([e.][^.]*)\./gi,"$1").replace(/([^e])-/gi,"$1").replace(/(e-?\d\d\d)\d/gi,"$1")}},function(e,t,n){"use strict";var r=n(21);t.string=function(e){return r.string(e)},t.integer=function(e){return e?parseInt(r.integer(e)):null},t.number=function(e){return e?parseFloat(r.number(e)):null}},function(e,t,n){"use strict";var r=n(2),o=n(21),i=n(22),a=r.createClass({displayName:"UserDefinedField",normalize:function(e){var t=o[this.props.type];return t?t(e):e},parse:function(e){var t=i[this.props.type];return t?t(e):e},handleChange:function(e){var t=this.normalize(e);this.props.update(this.props.path,t,this.parse(t))},handleKeyPress:function(e){13===e.keyCode&&e.preventDefault()},render:function(){return r.createElement(this.props.component,{name:this.props.label,schema:this.props.schema,value:this.props.value||"",onKeyPress:this.handleKeyPress,onChange:this.handleChange})}});e.exports=a},function(e,t,n){"use strict";var r=n(2),o=r.DOM,i=n(21),a=n(22),s=r.createClass({displayName:"Selection",normalize:function(e){var t=this.props.type||"string";return i[t](e)},parse:function(e){var t=this.props.type||"string";return a[t](e)},handleChange:function(e){var t=this.normalize(e.target.value);this.props.update(this.props.path,t,this.parse(t))},render:function(){var e=this.props.names;return o.select({name:this.props.label,value:this.props.value||this.props.values[0],onChange:this.handleChange,disabled:this.props.disabled},this.props.values.map(function(t,n){return o.option({key:t,value:t},e[n]||t)}))}});e.exports=s},function(e,t,n){"use strict";function r(e){return e.join("_")}var o=n(2),i=n(12),a=n(18),s=n(16),u=n(19);e.exports=function(e,t){var n=a(t.schema,t.context),p=n["x-hints"]||{},c=i.getIn(p,["form","inputComponent"]),l=i.getIn(p,["form","disabled"]),h=i.getIn(p,["form","hidden"]),m=r(t.path);if(t=i.merge(t,{schema:n,key:m,label:m,value:t.getValue(t.path),errors:t.getErrors(t.path),type:n.type,disabled:l,hidden:h}),void 0!==t.moveUp&&(t.isArrayItem?(delete t.isArrayItem,delete t.canMoveUp,delete t.canMoveDown,delete t.move,delete t.moveUp,delete t.moveDown):t.isArrayItem=!0),c)return t=i.merge(t,{component:t.handlers[c]}),u.field(t,o.createElement(e.UserDefinedField,t));if(p.fileUpload)return console.warn("DEPRECATION WARNING: built-in file upload will be removed"),t=i.merge(t,{fields:e}),o.createElement(e.FileField,i.merge(t,{mode:p.fileUpload.mode}));if(n.oneOf)return u.section(t,s.alternative(e,t));if(n.enum)return t=i.merge(t,{values:n.enum,names:n.enumNames||n.enum}),u.field(t,o.createElement(e.Selection,t));switch(n.type){case"boolean":return u.field(t,o.createElement(e.CheckBox,t));case"object":return u.section(t,s.object(e,t));case"array":return u.section(t,s.array(e,t));case"number":case"integer":case"string":default:return u.field(t,o.createElement(e.InputField,t))}}},function(e,t,n){"use strict";function r(e,t,n){var o,s,u=a(t,n);if(u.oneOf&&(u=i.schema(e,u,n)),u.enum)o=e||u.enum[0];else if("object"===u.type){var p;o=e;for(s in u.properties)p=(e||{})[s],p&&(o[s]=r(p,u.properties[s],n))}else if("array"===u.type){var c,l=(e||[]).length;for(o=l>0?[]:e,s=0;s<l;++s)c=(e||[])[s],c&&(o[s]=r(c,u.items,n))}else o=e;return o}var o=n(12),i=n(17),a=n(18);e.exports=function(e,t,n){return o.prune(r(e,t,n)).value}},function(e,t,n){"use strict";var r=n(12),o=n(17),i=function(e,t){var n=[];return null!==e.maximum&&(t>e.maximum?n.push("may be at most "+e.maximum):e.exclusiveMaximum&&t>=e.maximum&&n.push("must be less than "+e.maximum)),null!==e.minimum&&(t<e.minimum?n.push("must be at least "+e.minimum):e.exclusiveMinimum&&t<=e.minimum&&n.push("must be more than "+e.minimum)),null!=e.multipleOf&&t/e.multipleOf%1!=0&&n.push("must be a multiple of "+e.multipleOf),n},a=function(e){return e.length>0?[{path:[],errors:e}]:[]},s={};s.boolean=function(e,t){var n=[];return"boolean"!=typeof t&&n.push("must be boolean"),a(n)},s.enum=function(e,t){var n=[];return e.enum.indexOf(t)<0&&n.push("value not in list"),a(n)},s.number=function(e,t){var n=[];return"number"!=typeof t?n.push("must be a number"):n=i(e,t),a(n)},s.integer=function(e,t){var n=[];return"number"!=typeof t?n.push("must be a number"):(n=i(e,t),t%1>0&&n.unshift("must be an integer")),a(n)},s.string=function(e,t){var n=[];return"string"!=typeof t?n.push("must be a string"):(null!=e.maxLength&&t.length>e.maxLength&&n.push("may have at most "+e.maxLength+" characters"),null!=e.minLength&&t.length<e.minLength&&n.push("must have at least "+e.minLength+" characters"),null==e.pattern||RegExp(e.pattern).test(t)||n.push("must match "+e.pattern)),a(n)},s.array=function(e,t,n){var r,o,i,s=[];if(!Array.isArray(t))return a(["must be an array"]);if(null!=e.maxItems&&t.length>e.maxItems&&s.push("may have at most "+e.maxItems+" items"),null!=e.minItems&&t.length<e.minItems&&s.push("must have at least "+e.minItems+" items"),r=a(s),null!=e.items)for(o in t){s=l(e.items,t[o],n);for(i in s)r.push({path:[o].concat(s[i].path),errors:s[i].errors})}return r};var u=function(e,t){var n;return null!=e.required&&e.required.indexOf(t)>=0?"must be present":(n=e.properties[t],"array"==n.type&&n.minItems>0?"must have at least "+n.minItems+" items":null)};s.object=function(e,t,n){var r,i,a,s=[];null==t&&(t={});var p=o.schema(t,e,n);if(e=p||e,t.constructor!==Object)s.push({path:[],errors:["must be a plain object"]});else for(r in e.properties)if(t.hasOwnProperty(r))for(i=l(e.properties[r],t[r],n),a=0;a<i.length;++a)s.push({path:[r].concat(i[a].path),errors:i[a].errors});else u(e,r)&&s.push({path:[r],errors:[u(e,r)]});return s};var p=function(e){return[].concat.apply([],e)},c=function(e,t){var n=e.$ref;if(n){if(!n.match(/^#(\/([a-zA-Z_][a-zA-Z_0-9]*|[0-9]+))*$/))throw new Error("reference "+n+" has unsupported format");return{allOf:[r.without(e,"$ref"),r.getIn(t,n.split("/").slice(1))]}}return e},l=function(e,t,n){var o=n||e,i=c(e,o);if(i.allOf){var a=[r.without(i,"allOf")].concat(i.allOf).map(function(e){return l(e,t,o)});return p(a)}if(i.anyOf){var u=function(e){return l(e,t,o)},a=[r.without(i,"anyOf")].map(u),h=i.anyOf.map(u);return p(h).length<i.anyOf.length&&(h=[]),p(a.concat(h))}var m=i.enum?"enum":i.type;return m?s[m](i,t,o):[]};e.exports=l}])});